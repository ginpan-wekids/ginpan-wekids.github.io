{"version":3,"sources":["webpack:///./src/views/About.vue?f4b2","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?1f49","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","attrs","on","addToHomeScreen","_v","_s","notificationStatus","grantNotifiPermission","$event","pushNotification","staticRenderFns","staticClass","data","deferredPrompt","computed","Notification","permission","created","navigator","setAppBadge","window","addEventListener","event","console","log","preventDefault","methods","prompt","userChoice","then","choiceResult","outcome","requestPermission","status","serviceWorker","getRegistration","reg","showNotification","text","component","VBtn"],"mappings":"8GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,GAAGF,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQR,EAAIS,kBAAkB,CAACT,EAAIU,GAAG,wBAAwBN,EAAG,KAAK,CAACJ,EAAIU,GAAG,yBAAyBV,EAAIW,GAAGX,EAAIY,uBAAuBR,EAAG,QAAQ,CAACI,GAAG,CAAC,MAAQR,EAAIa,wBAAwB,CAACb,EAAIU,GAAG,mCAAmCN,EAAG,QAAQ,CAACI,GAAG,CAAC,MAAQ,SAASM,GAAQ,OAAOd,EAAIe,iBAAiB,WAAW,CAACf,EAAIU,GAAG,WAAW,IACreM,EAAkB,CAAC,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACa,YAAY,SAAS,CAACb,EAAG,KAAK,CAACJ,EAAIU,GAAG,+BCY1J,GACEQ,KADF,WAEI,MAAO,CACLC,eAAgB,OAGpBC,SAAU,CACRR,mBADJ,WAEM,OAAOS,aAAaC,aAGxBC,QAXF,WAYIC,UAAUC,YAAY,GACtBC,OAAOC,iBAAiB,uBAAuB,SAAUC,GAKvD,OAJAC,QAAQC,IAAI,6BACZF,EAAMG,iBACN9B,KAAKkB,eAAiBS,GAEf,MAGXI,QAAS,CACPvB,gBADJ,WAEUR,KAAKkB,iBAEPlB,KAAKkB,eAAec,SAGpBhC,KAAKkB,eAAee,WAAWC,MAAK,SAAUC,GAC5CP,QAAQC,IAAIM,EAAaC,SAEI,cAAzBD,EAAaC,QACfR,QAAQC,IAAI,+BAEZD,QAAQC,IAAI,gCAGhB7B,KAAKkB,eAAiB,OAG1BN,sBAnBJ,WAoBMQ,aAAaiB,mBAAkB,SAAUC,GACvCV,QAAQC,IAAI,kCAAmCS,OAGnDxB,iBAxBJ,SAwBA,GACqC,WAA3BM,aAAaC,YACfE,UAAUgB,cAAcC,kBAAkBN,MAAK,SAAUO,GACvDA,EAAIC,iBAAiBC,SC7DgT,I,6CCO3UC,EAAY,eACd,EACA9C,EACAiB,GACA,EACA,KACA,KACA,MAIa,aAAA6B,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,OAAA","file":"js/about.d1e7bb86.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addToHomeScreen}},[_vm._v(\"Add To Home Screen\")]),_c('h1',[_vm._v(\"Notification Status : \"+_vm._s(_vm.notificationStatus))]),_c('v-btn',{on:{\"click\":_vm.grantNotifiPermission}},[_vm._v(\"Grant Notification Permission\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.pushNotification('Test')}}},[_vm._v(\"Push\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"about\">\n      <h1>This is an about page</h1>\n    </div>\n    <v-btn @click=\"addToHomeScreen\" color=\"primary\">Add To Home Screen</v-btn>\n    <h1>Notification Status : {{notificationStatus}}</h1>\n    <v-btn @click=\"grantNotifiPermission\">Grant Notification Permission</v-btn>\n    <v-btn @click=\"pushNotification('Test')\">Push</v-btn>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      deferredPrompt: null,\n    };\n  },\n  computed: {\n    notificationStatus() {\n      return Notification.permission;\n    },\n  },\n  created() {\n    navigator.setAppBadge(2);\n    window.addEventListener(\"beforeinstallprompt\", function (event) {\n      console.log(\"beforeinstallprompt fired\");\n      event.preventDefault(); // 取消預設的直接跳出通知設定\n      this.deferredPrompt = event; // 將監聽到的install banner事件傳到deferredPrompt變數\n\n      return false;\n    });\n  },\n  methods: {\n    addToHomeScreen() {\n      if (this.deferredPrompt) {\n        // 確定我們有「攔截」到chrome所發出的install banner事件\n        this.deferredPrompt.prompt(); // 決定要跳出通知\n\n        // 根據用戶的選擇進行不同處理，這邊我指印出log結果\n        this.deferredPrompt.userChoice.then(function (choiceResult) {\n          console.log(choiceResult.outcome);\n\n          if (choiceResult.outcome === \"dismissed\") {\n            console.log(\"User cancelled installation\");\n          } else {\n            console.log(\"User added to home screen\");\n          }\n        });\n        this.deferredPrompt = null; // 一旦用戶允許加入後，之後就不會再出現通知\n      }\n    },\n    grantNotifiPermission() {\n      Notification.requestPermission(function (status) {\n        console.log(\"Notification permission status:\", status);\n      });\n    },\n    pushNotification(text) {\n      if (Notification.permission == \"granted\") {\n        navigator.serviceWorker.getRegistration().then(function (reg) {\n          reg.showNotification(text);\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=75dc06b0&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n"],"sourceRoot":""}